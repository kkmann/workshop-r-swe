<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Friedrich">
<meta name="dcterms.date" content="2023-02-10">
<meta name="description" content="Workflow for creating R packages + practical Photo CC0 by Andrea Piacquadio on pexels.com">

<title>GSWEP4R Workshop - An R Package Engineering Workflow</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">GSWEP4R Workshop</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"><i class="bi bi-house-fill" role="img">
</i> 
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../slides/listing.html"><i class="bi bi-file-earmark-slides" role="img">
</i> 
 <span class="menu-text">Slides</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#fa-face-grin-stars-motivation" id="toc-fa-face-grin-stars-motivation" class="nav-link active" data-scroll-target="#fa-face-grin-stars-motivation"><span class="yellow"><i class="fa-solid fa-face-grin-stars" aria-label="face-grin-stars"></i></span> Motivation</a></li>
  <li><a href="#professional-workflow" id="toc-professional-workflow" class="nav-link" data-scroll-target="#professional-workflow">Professional Workflow</a>
  <ul class="collapse">
  <li><a href="#typical-work-steps" id="toc-typical-work-steps" class="nav-link" data-scroll-target="#typical-work-steps">Typical work steps</a></li>
  </ul></li>
  <li><a href="#workflow-in-practice" id="toc-workflow-in-practice" class="nav-link" data-scroll-target="#workflow-in-practice">Workflow in Practice</a>
  <ul class="collapse">
  <li><a href="#frequently-used-workflow-in-practice" id="toc-frequently-used-workflow-in-practice" class="nav-link" data-scroll-target="#frequently-used-workflow-in-practice">Frequently Used Workflow in Practice</a></li>
  </ul></li>
  <li><a href="#why-practice-good-engineering" id="toc-why-practice-good-engineering" class="nav-link" data-scroll-target="#why-practice-good-engineering">Why practice good engineering?</a>
  <ul class="collapse">
  <li><a href="#why-practice-good-engineering-1" id="toc-why-practice-good-engineering-1" class="nav-link" data-scroll-target="#why-practice-good-engineering-1">Why practice good engineering?</a></li>
  <li><a href="#why-practice-good-engineering-2" id="toc-why-practice-good-engineering-2" class="nav-link" data-scroll-target="#why-practice-good-engineering-2">Why practice good engineering?</a></li>
  <li><a href="#why-practice-good-engineering-3" id="toc-why-practice-good-engineering-3" class="nav-link" data-scroll-target="#why-practice-good-engineering-3">Why practice good engineering?</a></li>
  </ul></li>
  <li><a href="#workable-workflow" id="toc-workable-workflow" class="nav-link" data-scroll-target="#workable-workflow">Workable Workflow</a></li>
  <li><a href="#suggestion-for-a-workable-workflow" id="toc-suggestion-for-a-workable-workflow" class="nav-link" data-scroll-target="#suggestion-for-a-workable-workflow">Suggestion for a Workable Workflow</a>
  <ul class="collapse">
  <li><a href="#example---step-1-idea" id="toc-example---step-1-idea" class="nav-link" data-scroll-target="#example---step-1-idea">Example - Step 1: Idea</a></li>
  <li><a href="#example---step-2-design-docs" id="toc-example---step-2-design-docs" class="nav-link" data-scroll-target="#example---step-2-design-docs">Example - Step 2: Design docs</a></li>
  <li><a href="#example---step-2-design-docs-1" id="toc-example---step-2-design-docs-1" class="nav-link" data-scroll-target="#example---step-2-design-docs-1">Example - Step 2: Design docs</a></li>
  <li><a href="#example---step-2-design-docs-2" id="toc-example---step-2-design-docs-2" class="nav-link" data-scroll-target="#example---step-2-design-docs-2">Example - Step 2: Design docs</a></li>
  <li><a href="#example---step-3-packaging" id="toc-example---step-3-packaging" class="nav-link" data-scroll-target="#example---step-3-packaging">Example - Step 3: Packaging</a></li>
  <li><a href="#example---step-3-packaging-1" id="toc-example---step-3-packaging-1" class="nav-link" data-scroll-target="#example---step-3-packaging-1">Example - Step 3: Packaging</a></li>
  <li><a href="#example---step-3-packaging-2" id="toc-example---step-3-packaging-2" class="nav-link" data-scroll-target="#example---step-3-packaging-2">Example - Step 3: Packaging</a></li>
  <li><a href="#example---step-3-packaging-3" id="toc-example---step-3-packaging-3" class="nav-link" data-scroll-target="#example---step-3-packaging-3">Example - Step 3: Packaging</a></li>
  <li><a href="#example---step-3-packaging-4" id="toc-example---step-3-packaging-4" class="nav-link" data-scroll-target="#example---step-3-packaging-4">Example - Step 3: Packaging</a></li>
  <li><a href="#example---step-3-packaging-5" id="toc-example---step-3-packaging-5" class="nav-link" data-scroll-target="#example---step-3-packaging-5">Example - Step 3: Packaging</a></li>
  </ul></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a>
  <ul class="collapse">
  <li><a href="#preparation" id="toc-preparation" class="nav-link" data-scroll-target="#preparation">Preparation</a></li>
  <li><a href="#tasks" id="toc-tasks" class="nav-link" data-scroll-target="#tasks">Tasks</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">An R Package Engineering Workflow</h1>
<p class="subtitle lead">BBS Course: Good Software Engineering Practice for R Packages</p>
</div>

<div>
  <div class="description">
    Workflow for creating R packages + practical<br><span class="copyright">Photo CC0 by Andrea Piacquadio on pexels.com</span>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Friedrich </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 10, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="fa-face-grin-stars-motivation" class="level1">
<h1><span class="yellow"><i class="fa-solid fa-face-grin-stars" aria-label="face-grin-stars"></i></span> Motivation</h1>
<!-- 
- One-off scripts, prototype functions
- R generic functions
- Design docs
- Packaging
- Professional workflow
-->
<p><strong>From an idea to a production-grade R package</strong></p>
<p>Example scenario: in your daily work, you notice that you need certain one-off scripts again and again.</p>
<div class="incremental">
<p><span class="blue"><i class="fa-solid fa-lightbulb fa-2x" aria-label="lightbulb"></i></span> The idea of creating an R package was born because you understood that “copy and paste” R scripts is inefficient and on top of that, you want to share your helpful R functions with colleagues and the world…</p>
<div class="columns">
<div class="column" style="width:50%;">

</div><div class="column" style="width:50%;">
<p><span class="blue"><i class="fa-solid fa-earth-europe fa-4x" aria-label="earth-europe"></i></span></p>
</div>
</div>
</div>
</section>
<section id="professional-workflow" class="level1">
<h1>Professional Workflow</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="thumbnails/workflow1.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><span class="copyright">Photo CC0 by ELEVATE on pexels.com</span></figcaption><p></p>
</figure>
</div>
<section id="typical-work-steps" class="level2">
<h2 class="anchored" data-anchor-id="typical-work-steps">Typical work steps</h2>
<div class="incremental">
<div class="columns">
<div class="column" style="width:55%;">
<ol class="incremental" type="1">
<li>Idea</li>
<li>Concept creation</li>
<li>Validation planning</li>
<li>Specification:
<ol class="incremental" type="a">
<li>User Requirements Spec (URS),</li>
<li>Functional Spec (FS), and</li>
<li>Software Design Spec (SDS)</li>
</ol></li>
</ol>
</div><div class="column" style="width:45%;">
<ol class="incremental" start="5" type="1">
<li>R package programming</li>
<li>Documented verification</li>
<li>Completion of formal validation</li>
<li>R package release</li>
<li>Use in production</li>
<li>Maintenance</li>
</ol>
</div>
</div>
</div>
<div class="incremental">
<div class="columns">
<div class="column" style="width:60%;">

</div><div class="column" style="width:40%;">
<p><span class="yellow"><i class="fa-solid fa-face-surprise fa-1x" aria-label="face-surprise"></i></span> <span class="yellow"><i class="fa-solid fa-face-flushed fa-2x" aria-label="face-flushed"></i></span> <span class="yellow"><i class="fa-solid fa-face-sad-cry fa-3x" aria-label="face-sad-cry"></i></span></p>
</div>
</div>
</div>
</section>
</section>
<section id="workflow-in-practice" class="level1">
<h1>Workflow in Practice</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="thumbnails/workflow2.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><span class="copyright">Photo CC0 by Chevanon Photography on pexels.com</span></figcaption><p></p>
</figure>
</div>
<section id="frequently-used-workflow-in-practice" class="level2">
<h2 class="anchored" data-anchor-id="frequently-used-workflow-in-practice">Frequently Used Workflow in Practice</h2>
<div class="incremental">
<div class="columns">
<div class="column" style="width:50%;">
<ol class="incremental" type="1">
<li>Idea</li>
<li>R package programming</li>
<li>Use in production</li>
<li>Bug fixing</li>
<li>Use in production</li>
</ol>
</div><div class="column" style="width:50%;">
<ol class="incremental" start="6" type="1">
<li>Bug fixing + Documentation</li>
<li>Use in production</li>
<li>Bug fixing + Further development</li>
<li>Use in production</li>
<li>Bug fixing + …</li>
</ol>
</div>
</div>
</div>
<div class="incremental">
<p><span class="yellow"><i class="fa-solid fa-face-angry fa-1x" aria-label="face-angry"></i></span> Bad practice!</p>
</div>
<div class="incremental">
<p><span class="yellow"><i class="fa-solid fa-face-rolling-eyes fa-1x" aria-label="face-rolling-eyes"></i></span> Why?</p>
</div>
</section>
</section>
<section id="why-practice-good-engineering" class="level1">
<h1>Why practice good engineering?</h1>
<!-- https://www.researchgate.net/figure/Cost-Distribution-among-Software-Process-Activities-12_fig1_340280214 -->
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attache Paket: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Die folgenden Objekte sind maskiert von 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Die folgenden Objekte sind maskiert von 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03_workflow_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption"><a href="https://dx.doi.org/10.14569/IJACSA.2020.0110375">doi:10.14569/IJACSA.2020.0110375</a></figcaption><p></p>
</figure>
</div>
</div>
<p>Cost distribution among software process activities</p>
</div>
<section id="why-practice-good-engineering-1" class="level2">
<h2 class="anchored" data-anchor-id="why-practice-good-engineering-1">Why practice good engineering?</h2>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="03_workflow_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
<p></p><figcaption class="figure-caption"><a href="https://dl.acm.org/doi/10.5555/539425">Boehm, B. (1981). Software Engineering Economics. Prentice Hall.</a></figcaption><p></p>
</figure>
</div>
</div>
<p>Origin of errors in system development</p>
</div>
</section>
<section id="why-practice-good-engineering-2" class="level2">
<h2 class="anchored" data-anchor-id="why-practice-good-engineering-2">Why practice good engineering?</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>Don’t waste time on maintenance</li>
<li>Be faster with release on CRAN</li>
<li>Don’t waste time with inefficient and buggy further development</li>
</ul>
</div><div class="column" style="width:55%;">
<ul>
<li>Fulfill regulatory requirements<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></li>
<li>Save refactoring time when the <em>PoC</em> becomes the release version</li>
<li>You don’t have to be shy any longer about inviting other developers to contribute to the package on <a href="https://github.com/">GitHub</a></li>
</ul>
</div>
</div>
</section>
<section id="why-practice-good-engineering-3" class="level2">
<h2 class="anchored" data-anchor-id="why-practice-good-engineering-3">Why practice good engineering?</h2>
<p>Invest time in</p>
<ul>
<li>requirements analysis,</li>
<li>software design, and</li>
<li>architecture…</li>
</ul>
<div class="incremental">
<p>… but in many cases the workflow must be workable for a single developer or a small team.</p>
</div>
</section>
</section>
<section id="workable-workflow" class="level1">
<h1>Workable Workflow</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="thumbnails/workflow3.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><span class="copyright">Photo CC0 by Kateryna Babaieva on pexels.com</span></figcaption><p></p>
</figure>
</div>
</section>
<section id="suggestion-for-a-workable-workflow" class="level1">
<h1>Suggestion for a Workable Workflow</h1>
<ol type="1">
<li>Idea</li>
<li>Design docs</li>
<li>R package programming</li>
<li>Quality check (see <a href="04_quality.html">Ensuring Quality</a> by <a href="https://www.linkedin.com/in/pahlke">Friedrich</a>)</li>
<li>Publication (see <a href="06_publication.html">Publication</a> by <a href="https://www.linkedin.com/in/danielsabanesbove/">Daniel</a> and <a href="https://www.linkedin.com/in/pahlke">Friedrich</a>)</li>
<li>Use in production</li>
</ol>
<section id="example---step-1-idea" class="level2">
<h2 class="anchored" data-anchor-id="example---step-1-idea">Example - Step 1: Idea</h2>
<p>Let’s assume that you used some lines of code to create simulated data in multiple projects:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">group =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">50</span>), <span class="fu">rep</span>(<span class="dv">2</span>, <span class="dv">50</span>)),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">8</span>, <span class="at">sd =</span> <span class="dv">12</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">14</span>, <span class="at">sd =</span> <span class="dv">11</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Idea: put the code into a package</p>
</section>
<section id="example---step-2-design-docs" class="level2">
<h2 class="anchored" data-anchor-id="example---step-2-design-docs">Example - Step 2: Design docs</h2>
<ol type="1">
<li>Describe the purpose and scope of the package</li>
<li>Analyse and describe the requirements in clear and simple terms (“prose”)</li>
</ol>
<table class="table">
<thead>
<tr class="header">
<th>Obligation level</th>
<th style="text-align: left;">Key word<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Duty</td>
<td style="text-align: left;">shall</td>
<td>“must have”</td>
</tr>
<tr class="even">
<td>Desire</td>
<td style="text-align: left;">should</td>
<td>“nice to have”</td>
</tr>
<tr class="odd">
<td>Intention</td>
<td style="text-align: left;">will</td>
<td>“optional”</td>
</tr>
</tbody>
</table>
</section>
<section id="example---step-2-design-docs-1" class="level2">
<h2 class="anchored" data-anchor-id="example---step-2-design-docs-1">Example - Step 2: Design docs</h2>
<p><strong>Purpose and Scope</strong></p>
<p>The R package <em>simulatr</em> shall enable the creation of reproducible fake data.</p>
<p><strong>Package Requirements</strong></p>
<p><em>simulatr</em> <strong>shall</strong> provide a function to generate normal distributed random data for two independent groups. The function <strong>shall</strong> allow flexible definition of sample size per group, mean per group, standard deviation per group. The reproducibility of the simulated data <strong>shall</strong> be ensured via an optional seed It <strong>should</strong> be possible to print the function result. A graphical presentation of the simulated data <strong>will</strong> also be possible.</p>
</section>
<section id="example---step-2-design-docs-2" class="level2">
<h2 class="anchored" data-anchor-id="example---step-2-design-docs-2">Example - Step 2: Design docs</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Useful formats / tools for design docs:</p>
<ul>
<li><a href="https://rmarkdown.rstudio.com">R Markdown</a><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> (*.Rmd)</li>
<li><a href="https://quarto.org">Quarto</a><sup>1</sup> (*.qmd)</li>
<li><a href="https://www.overleaf.com">Overleaf</a><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></li>
<li><a href="http://draw.io">draw.io</a><a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a></li>
</ul>
</div><div class="column" style="width:55%;">
<div class="text-align-center">
<p>UML Diagram</p>
</div>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="resources/simulatr.png" class="img-fluid figure-img" style="width:95.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="example---step-3-packaging" class="level2">
<h2 class="anchored" data-anchor-id="example---step-3-packaging">Example - Step 3: Packaging</h2>
<p><strong>R package programming</strong></p>
<ol type="1">
<li>Create basic package project (see <a href="02_r_packages.html">R Packages</a> by <a href="https://www.linkedin.com/in/danielsabanesbove/">Daniel</a>)</li>
<li>C&amp;P existing R scripts (one-off scripts, prototype functions) and refactor<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> it if necessary</li>
<li>Create R generic functions</li>
<li>Document all functions</li>
</ol>
</section>
<section id="example---step-3-packaging-1" class="level2">
<h2 class="anchored" data-anchor-id="example---step-3-packaging-1">Example - Step 3: Packaging</h2>
<p>One-off script as starting point:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sim.data <span class="ot">&lt;-</span> <span class="cf">function</span>(n1, n2, m1, m2, s1, s2) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, n1), <span class="fu">rep</span>(<span class="dv">2</span>, n2)),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="at">n =</span> n1, <span class="at">mean =</span> m1, <span class="at">sd =</span> s1),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="at">n =</span> n2, <span class="at">mean =</span> m2, <span class="at">sd =</span> s2)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example---step-3-packaging-2" class="level2">
<h2 class="anchored" data-anchor-id="example---step-3-packaging-2">Example - Step 3: Packaging</h2>
<p>Refactored script:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>getSimulatedTwoArmMeans <span class="ot">&lt;-</span> <span class="cf">function</span>(n1, n2, mean1, mean2, sd1, sd2) {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">data.frame</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, n1), <span class="fu">rep</span>(<span class="dv">2</span>, n2)),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="at">n =</span> n1, <span class="at">mean =</span> mean1, <span class="at">sd =</span> sd1),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="at">n =</span> n2, <span class="at">mean =</span> mean2, <span class="at">sd =</span> sd2)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Almost all functions, arguments, and objects should be self-explanatory due to their names.</p>
</section>
<section id="example---step-3-packaging-3" class="level2">
<h2 class="anchored" data-anchor-id="example---step-3-packaging-3">Example - Step 3: Packaging</h2>
<p>Define that the result is a list<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> which is defined as class<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>getSimulatedTwoArmMeans <span class="ot">&lt;-</span> <span class="cf">function</span>(n1, n2, mean1, mean2, sd1, sd2) {</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">n1 =</span> n1, <span class="at">n2 =</span> n2, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">mean1 =</span> mean1, <span class="at">mean2 =</span> mean2, <span class="at">sd1 =</span> sd1, <span class="at">sd2 =</span> sd2)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    result<span class="sc">$</span>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">group =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>, n1), <span class="fu">rep</span>(<span class="dv">2</span>, n2)),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="at">n =</span> n1, <span class="at">mean =</span> mean1, <span class="at">sd =</span> sd1),</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">rnorm</span>(<span class="at">n =</span> n2, <span class="at">mean =</span> mean2, <span class="at">sd =</span> sd2)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># set the class attribute</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    result <span class="ot">&lt;-</span> <span class="fu">structure</span>(result, <span class="at">class =</span> <span class="st">"SimulationResult"</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(result)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="example---step-3-packaging-4" class="level2">
<h2 class="anchored" data-anchor-id="example---step-3-packaging-4">Example - Step 3: Packaging</h2>
<p>The output is impractical, e.g., we need to scroll down:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">getSimulatedTwoArmMeans</span>(<span class="at">n1 =</span> <span class="dv">50</span>, <span class="at">n2 =</span> <span class="dv">50</span>, <span class="at">mean1 =</span> <span class="dv">5</span>, <span class="at">mean2 =</span> <span class="dv">7</span>, <span class="at">sd1 =</span> <span class="dv">3</span>, <span class="at">sd2 =</span> <span class="dv">4</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$n1
[1] 50

$n2
[1] 50

$mean1
[1] 5

$mean2
[1] 7

$sd1
[1] 3

$sd2
[1] 4

$data
    group      values
1       1  2.20386600
2       1  1.92124008
3       1  5.95633402
4       1  5.02494550
5       1  3.15337292
6       1  5.18011674
7       1  6.00012604
8       1  7.98104533
9       1  2.87736383
10      1  0.33595393
11      1  8.34714182
12      1  4.74503533
13      1  2.42358708
14      1 10.42302534
15      1  7.84732935
16      1  5.46820884
17      1  8.13376079
18      1  8.02548643
19      1  6.81040353
20      1  5.62206594
21      1  6.78547187
22      1  7.06012919
23      1 -0.04907750
24      1  8.09372160
25      1  8.12198870
26      1  7.09022219
27      1  3.52265526
28      1  4.08325118
29      1  3.96234820
30      1  3.83183046
31      1  7.28101011
32      1 -2.79212742
33      1 10.31699667
34      1  4.92971730
35      1 -0.49634467
36      1  5.61135945
37      1  8.77670185
38      1  5.67904914
39      1 -0.46399773
40      1 -0.02610633
41      1  3.57266691
42      1  4.53948512
43      1  5.42356699
44      1  3.46146460
45      1  6.34026891
46      1  4.71770280
47      1 -0.85991271
48      1  7.55327125
49      1  3.21018967
50      1  5.17012922
51      2 12.54038889
52      2 -1.46307562
53      2  1.87585121
54      2  3.71510265
55      2  8.64047517
56      2 11.60520685
57      2  3.22792849
58      2  9.25095086
59      2  6.60870580
60      2 -5.00458500
61      2  9.39223880
62      2  2.36739114
63      2  2.12234605
64      2  8.90082149
65      2  5.59576973
66      2  5.72826429
67      2 12.58920619
68      2  9.75326630
69      2  2.57405792
70      2  8.01275535
71      2 11.63722051
72      2  6.57978402
73      2  3.09970147
74      2  5.88249286
75      2  5.87650831
76      2  3.96991702
77      2 11.81568554
78      2  3.53766664
79      2  5.19344846
80      2  3.65340253
81      2 -1.45948690
82      2  7.24423023
83      2  9.95237822
84      2  8.31713488
85      2  9.39729461
86      2  9.65186503
87      2  8.54019015
88      2  2.55040324
89      2  8.47017409
90      2 14.54584662
91      2  3.00410286
92      2  5.21206805
93      2  7.36518370
94      2  8.87930400
95      2  5.76813542
96      2  4.72269814
97      2  5.43125038
98      2  1.27630633
99      2  5.03937468
100     2  3.74438848

attr(,"class")
[1] "SimulationResult"</code></pre>
</div>
</div>
<div class="incremental">
<p>Solution: implement generic function <code>print</code></p>
</div>
</section>
<section id="example---step-3-packaging-5" class="level2">
<h2 class="anchored" data-anchor-id="example---step-3-packaging-5">Example - Step 3: Packaging</h2>
<p>Generic function <code>print</code>:</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Roxygen</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>print.SimulationResult <span class="ot">&lt;-</span> <span class="cf">function</span>(x, ...) {</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    args <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">n1 =</span> x<span class="sc">$</span>n1, <span class="at">n2 =</span> x<span class="sc">$</span>n2, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">mean1 =</span> x<span class="sc">$</span>mean1, <span class="at">mean2 =</span> x<span class="sc">$</span>mean2, <span class="at">sd1 =</span> x<span class="sc">$</span>sd1, <span class="at">sd2 =</span> x<span class="sc">$</span>sd2)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">list</span>(</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">args =</span> <span class="fu">format</span>(args), </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> dplyr<span class="sc">::</span><span class="fu">tibble</span>(x<span class="sc">$</span>data)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    ), ...)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#' @title</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#' Print Simulation Result</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#' @description</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#' Generic function to print a `SimulationResult` object.</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param x a \code{SimulationResult} object to print.</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co">#' @param ... further arguments passed to or from other methods.</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co">#' </span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">#' @examples</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">#' x &lt;- getSimulatedTwoArmMeans(n1 = 50, n2 = 50, mean1 = 5, </span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">#'      mean2 = 7, sd1 = 3, sd2 = 4, seed = 123)</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">#' print(x)</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co">#'</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">#' @export</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" style="font-size:0.8em!important;">
<div class="cell-output cell-output-stdout">
<pre><code>$args
   n1    n2 mean1 mean2   sd1   sd2 
 "50"  "50"   "5"   "7"   "3"   "4" 

$data
# A tibble: 100 × 2
   group values
   &lt;dbl&gt;  &lt;dbl&gt;
 1     1  2.20 
 2     1  1.92 
 3     1  5.96 
 4     1  5.02 
 5     1  3.15 
 6     1  5.18 
 7     1  6.00 
 8     1  7.98 
 9     1  2.88 
10     1  0.336
# … with 90 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="exercise" class="level1">
<h1>Exercise</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="thumbnails/exercise.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><span class="copyright">Photo CC0 by Pixabay on pexels.com</span></figcaption><p></p>
</figure>
</div>
<section id="preparation" class="level2">
<h2 class="anchored" data-anchor-id="preparation">Preparation</h2>
<ol type="1">
<li>Download the unfinished R package <a href="download/simulatr.zip">simulatr</a></li>
<li>Extract the package zip file</li>
<li>Open the project with RStudio</li>
<li>Complete the tasks below</li>
</ol>
</section>
<section id="tasks" class="level2">
<h2 class="anchored" data-anchor-id="tasks">Tasks</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Task 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Task 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Task 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Task 4</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-5" role="tab" aria-controls="tabset-2-5" aria-selected="false">Task 5</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-6" role="tab" aria-controls="tabset-2-6" aria-selected="false">Task 6</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-7" role="tab" aria-controls="tabset-2-7" aria-selected="false">Task 7</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Add assertions to improve the usability and user experience</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip on assertions
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use the package <a href="https://cran.r-project.org/package=checkmate" title="checkmate: Fast and Versatile Argument Checks">checkmate</a> to validate input arguments.</p>
</div>
</div>
<p>Example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>playWithAssertions <span class="ot">&lt;-</span> <span class="cf">function</span>(n1) {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  checkmate<span class="sc">::</span><span class="fu">assertInt</span>(n1, <span class="at">lower =</span> <span class="dv">1</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">playWithAssertions</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="error">Error in playWithAssertions(-1) :</span> <span class="error">Assertion on ‘n1’ failed: Element 1 is not &gt;= 1.</span></p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Add three additional results:</p>
<ol type="1">
<li>n total,</li>
<li>creation time, and</li>
<li>allocation ratio</li>
</ol>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip on creation time
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>Sys.time()</code>, <code>format(Sys.time(), '%B %d, %Y')</code>, <code>Sys.Date()</code></p>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Add an additional result: <code>t.test</code> result</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p>Add an optional <em>alternative</em> argument and pass it through <code>t.test</code>:<br>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>alternative <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"two.sided"</span>, <span class="st">"less"</span>, <span class="st">"greater"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-5-tab">
<p>Implement the generic functions <code>print</code> and <code>plot</code>.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip on print
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use the plot example function from above and extend it.</p>
</div>
</div>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip on plot
</div>
</div>
<div class="callout-body-container callout-body">
<p>Use R base <a href="https://bookdown.org/rdpeng/exdata/the-base-plotting-system-1.html">plot</a> or <a href="https://cran.r-project.org/package=ggplot2">ggplot2</a> to create a grouped boxplot of the fake data.</p>
</div>
</div>
</div>
<div id="tabset-2-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-6-tab">
<p><em>Optional extra tasks:</em></p>
<ul>
<li><p>Implement the generic functions <code>summary</code> and <code>cat</code></p></li>
<li><p>Implement the function <code>kable</code> known from the package <a href="https://cran.r-project.org/package=knitr">knitr</a> as generic. <em>Tip</em>: use</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>kable <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">UseMethod</span>(<span class="st">"kable"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>to define kable as generic</p></li>
</ul>
</div>
<div id="tabset-2-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-7-tab">
<p><em>Optional extra task<sup>1</sup>:</em></p>
<p>Document your functions with <a href="https://cran.r-project.org/package=roxygen2">Roxygen2</a></p>
<div class="footnote">
<ol type="1">
<li>If you are already familiar with Roxygen2</li>
</ol>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li>Gillespie, C., &amp; Lovelace, R. (2017). Efficient R Programming: A Practical Guide to Smarter Programming. O’Reilly UK Ltd. [<a href="https://amzn.to/3GU8HUW">Book</a> | <a href="https://csgillespie.github.io/efficientR/">Online</a>]</li>
<li>Grolemund, G. (2014). Hands-On Programming with R: Write Your Own Functions and Simulations (1. Aufl.).<br>
O’Reilly and Associates. [<a href="https://amzn.to/3QD7DeL">Book</a> | <a href="https://rstudio-education.github.io/hopr/">Online</a>]</li>
<li>Rupp, C., &amp; SOPHISTen, die. (2009). Requirements-Engineering und -Management: Professionelle, iterative Anforderungsanalyse für die Praxis (5. Ed.). Carl Hanser Verlag GmbH &amp; Co.&nbsp;KG. [<a href="https://amzn.to/3DdwiBe">Book</a>]</li>
<li>Wickham, H. (2015). R Packages: Organize, Test, Document, and Share Your Code (1. Aufl.). O’Reilly and Associates. [<a href="https://amzn.to/34U0Fyj">Book</a> | <a href="https://r-pkgs.org/">Online</a>]</li>
<li>Wickham, H. (2019). Advanced R, Second Edition.<br>
Taylor &amp; Francis Ltd.&nbsp;[<a href="https://amzn.to/3uLnxLd">Book</a> | <a href="https://adv-r.hadley.nz/">Online</a>]</li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>See also <a href="04_quality.html">Ensuring Quality</a> by <a href="https://www.linkedin.com/in/pahlke">Friedrich</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="https://amzn.to/3DdwiBe">Rupp, C., &amp; SOPHISTen, die. (2009). Requirements-Engineering und -Management: Professionelle, iterative Anforderungsanalyse für die Praxis (5. Ed.). Carl Hanser Verlag GmbH &amp; Co.&nbsp;KG.</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Based on <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown</a>, the easy-to-use markup language<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>The easy to use, online, collaborative LaTeX editor<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>A picture is worth a thousand words<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>See also <a href="04_quality.html">Ensuring Quality</a> by <a href="https://www.linkedin.com/in/pahlke">Friedrich</a><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>It’s common practice to add the function arguments to the result <span class="math inline">\(\rightarrow\)</span> should be a list or class<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>To implement generics, the result must be a class<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">https://creativecommons.org/licenses/by-sa/4.0/</a></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/kkmann\.github\.io\/workshop-r-swe/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://rconsortium.github.io/asa-biop-swe-wg/">About the Software Engineering Working Group</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/kkmann/workshop-r-swe">Source Code on GitHub</a>
  </li>  
</ul>
      </div>
  </div>
</footer>



</body></html>