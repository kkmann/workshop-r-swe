<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel, Friedrich">
<meta name="dcterms.date" content="2023-02-10">
<meta name="description" content="Publication of R packages + practical Photo CC0 by Andrea Piacquadio on pexels.com">

<title>GSWEP4R Workshop - Publication</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">GSWEP4R Workshop</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"><i class="bi bi-house-fill" role="img">
</i> 
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../slides/listing.html"><i class="bi bi-file-earmark-slides" role="img">
</i> 
 <span class="menu-text">Slides</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#website-with-pkgdown" id="toc-website-with-pkgdown" class="nav-link active" data-scroll-target="#website-with-pkgdown">Website with <code>pkgdown</code></a>
  <ul class="collapse">
  <li><a href="#setup-of-pkgdown" id="toc-setup-of-pkgdown" class="nav-link" data-scroll-target="#setup-of-pkgdown">Setup of <code>pkgdown</code></a></li>
  <li><a href="#example-_pkgdown.yml-file" id="toc-example-_pkgdown.yml-file" class="nav-link" data-scroll-target="#example-_pkgdown.yml-file">Example <code>_pkgdown.yml</code> file</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#publication-as-github-page" id="toc-publication-as-github-page" class="nav-link" data-scroll-target="#publication-as-github-page">Publication as GitHub Page</a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  </ul></li>
  <li><a href="#licensing-open-sourcing-versioning" id="toc-licensing-open-sourcing-versioning" class="nav-link" data-scroll-target="#licensing-open-sourcing-versioning">Licensing, Open sourcing, Versioning</a>
  <ul class="collapse">
  <li><a href="#licensing" id="toc-licensing" class="nav-link" data-scroll-target="#licensing">Licensing</a></li>
  <li><a href="#licensing-contd" id="toc-licensing-contd" class="nav-link" data-scroll-target="#licensing-contd">Licensing (cont’d)</a></li>
  <li><a href="#open-sourcing" id="toc-open-sourcing" class="nav-link" data-scroll-target="#open-sourcing">Open Sourcing</a></li>
  <li><a href="#versioning" id="toc-versioning" class="nav-link" data-scroll-target="#versioning">Versioning</a></li>
  </ul></li>
  <li><a href="#checks-before-release" id="toc-checks-before-release" class="nav-link" data-scroll-target="#checks-before-release">Checks before Release</a>
  <ul class="collapse">
  <li><a href="#cran-the-comprehensive-r-archive-network" id="toc-cran-the-comprehensive-r-archive-network" class="nav-link" data-scroll-target="#cran-the-comprehensive-r-archive-network">CRAN (The Comprehensive R Archive Network)</a></li>
  <li><a href="#cran-contd" id="toc-cran-contd" class="nav-link" data-scroll-target="#cran-contd">CRAN (cont’d)</a></li>
  <li><a href="#cran-contd-1" id="toc-cran-contd-1" class="nav-link" data-scroll-target="#cran-contd-1">CRAN (cont’d)</a></li>
  <li><a href="#cran-contd-2" id="toc-cran-contd-2" class="nav-link" data-scroll-target="#cran-contd-2">CRAN (cont’d)</a></li>
  <li><a href="#r-hub-to-the-rescue" id="toc-r-hub-to-the-rescue" class="nav-link" data-scroll-target="#r-hub-to-the-rescue">R-Hub to the Rescue</a></li>
  </ul></li>
  <li><a href="#github" id="toc-github" class="nav-link" data-scroll-target="#github">GitHub</a>
  <ul class="collapse">
  <li><a href="#tags" id="toc-tags" class="nav-link" data-scroll-target="#tags">Tags</a></li>
  <li><a href="#tags-example" id="toc-tags-example" class="nav-link" data-scroll-target="#tags-example">Tags: Example</a></li>
  <li><a href="#releases" id="toc-releases" class="nav-link" data-scroll-target="#releases">Releases</a></li>
  <li><a href="#releases-example" id="toc-releases-example" class="nav-link" data-scroll-target="#releases-example">Releases: Example</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Publication</h1>
<p class="subtitle lead">BBS Course: Good Software Engineering Practice for R Packages</p>
</div>

<div>
  <div class="description">
    Publication of R packages + practical<br><span class="copyright">Photo CC0 by Andrea Piacquadio on pexels.com</span>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Daniel, Friedrich </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 10, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="website-with-pkgdown" class="level1">
<h1>Website with <code>pkgdown</code></h1>
<section id="setup-of-pkgdown" class="level2">
<h2 class="anchored" data-anchor-id="setup-of-pkgdown">Setup of <code>pkgdown</code></h2>
<ul>
<li><code>pkgdown</code> makes it quick and easy to build a website for your package</li>
<li>After installing <code>pkgdown</code>, just use <code>usethis::use_pkgdown()</code> to get started</li>
<li>Main configuration happens in <code>_pkgdown.yml</code> file</li>
<li>Many customizations can be applied, but main work during development is to keep the <code>reference</code> section updated with names of <code>.Rd</code> files</li>
</ul>
</section>
<section id="example-_pkgdown.yml-file" class="level2">
<h2 class="anchored" data-anchor-id="example-_pkgdown.yml-file">Example <code>_pkgdown.yml</code> file</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">url</span><span class="kw">:</span><span class="at"> https://openpharma.github.io/mmrm</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">bootstrap</span><span class="kw">:</span><span class="at"> </span><span class="dv">5</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ganalytics</span><span class="kw">:</span><span class="at"> UA-125641273-1</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">navbar</span><span class="kw">:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">right</span><span class="kw">:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">icon</span><span class="kw">:</span><span class="at"> fa-github</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">href</span><span class="kw">:</span><span class="at"> https://github.com/openpharma/mmrm</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">reference</span><span class="kw">:</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Package</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> mmrm-package</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">title</span><span class="kw">:</span><span class="at"> Functions</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> mmrm</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> fit_mmrm</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> mmrm_control</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> fit_single_optimizer</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> refit_multiple_optimizers</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> df_1d</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> df_md</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> component</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="section" class="level2" data-background-iframe="https://openpharma.github.io/mmrm/main/reference/index.html" data-background-interactive="true">
<h2 data-background-iframe="https://openpharma.github.io/mmrm/main/reference/index.html" data-background-interactive="true" class="anchored" data-anchor-id="section"></h2>
</section>
<section id="publication-as-github-page" class="level2">
<h2 class="anchored" data-anchor-id="publication-as-github-page">Publication as GitHub Page</h2>
<ul>
<li>It is helpful for users to read the website online</li>
<li>GitHub is very helpful here because it allows
<ul>
<li>A separate branch <code>gh-pages</code> that stores the rendered website</li>
<li>GitHub actions automatically render the website when the <code>main</code> branch is updated</li>
</ul></li>
<li>To get started, use <code>usethis::use_pkgdown_github_pages()</code></li>
</ul>
</section>
<section id="section-1" class="level2" data-background-iframe="https://openpharma.github.io/mmrm/main/" data-background-interactive="true">
<h2 data-background-iframe="https://openpharma.github.io/mmrm/main/" data-background-interactive="true" class="anchored" data-anchor-id="section-1"></h2>
</section>
</section>
<section id="licensing-open-sourcing-versioning" class="level1">
<h1>Licensing, Open sourcing, Versioning</h1>
<section id="licensing" class="level2">
<h2 class="anchored" data-anchor-id="licensing">Licensing</h2>
<ul>
<li>High level categorization of licenses:
<ul>
<li>“Permissive”: Relaxed. Can be freely copied, modified, published (under the same license).</li>
<li>“Copyleft”: Stricter. Same rights need to be preserved in derivative works.</li>
</ul></li>
<li>R itself is licensed under GPL, but packages can choose, e.g.:
<ul>
<li><code>usethis::use_mit_license()</code> for permissive MIT</li>
<li><code>usethis::use_gpl_license()</code> for copyleft GPL</li>
</ul></li>
<li>Include minimum version, e.g.&nbsp;<code>GPL (&gt;= 3)</code></li>
</ul>
</section>
<section id="licensing-contd" class="level2">
<h2 class="anchored" data-anchor-id="licensing-contd">Licensing (cont’d)</h2>
<ul>
<li>Need to be careful here when you bundle any code from other software
<ul>
<li>Care must be taken that any copyright/license statements from copied or modified code are preserved and authorship is not misrepresented</li>
</ul></li>
<li>Are the licenses of your package and the source compatible?
<ul>
<li>e.g.&nbsp;cannot copy/paste code from a GPL package and publish in an MIT package</li>
</ul></li>
<li><code>LICENSE</code> file optionally can contain further restrictions of the license</li>
</ul>
</section>
<section id="open-sourcing" class="level2">
<h2 class="anchored" data-anchor-id="open-sourcing">Open Sourcing</h2>
<ul>
<li>The easiest way to “open source” your R package is to make the GitHub repository public</li>
<li>This allows for easy open source contributions from other developers via pull requests</li>
<li>Please check with your organization first:
<ul>
<li>Are they ok to publish the software?</li>
<li>What is the appropriate copyright holder?</li>
</ul></li>
<li>Also allows bugs to be filed and to have the GitHub issues page in the package description</li>
</ul>
</section>
<section id="versioning" class="level2">
<h2 class="anchored" data-anchor-id="versioning">Versioning</h2>
<ul>
<li>The <code>Version</code> field defines the package version</li>
<li>Syntax: Three integers separated by <code>.</code> or <code>-</code>
<ul>
<li>Canonical form is: <code>x.y-z</code>, equivalent to <code>x.y.z</code></li>
</ul></li>
<li>Useful conventions of “semantic versioning”:
<ul>
<li><code>x</code> is major: Increment this for breaking changes</li>
<li><code>y</code> is minor: Increment this for new features</li>
<li><code>z</code> is patch: Increment this for bug fixes only</li>
<li><code>x.y.z.9000</code> and count up during development</li>
<li><code>usethis::use_version()</code> can help with this</li>
</ul></li>
</ul>
<!-- Keep in mind to update the `NEWS` file for any user-visible change -->
</section>
</section>
<section id="checks-before-release" class="level1">
<h1>Checks before Release</h1>
<section id="cran-the-comprehensive-r-archive-network" class="level2">
<h2 class="anchored" data-anchor-id="cran-the-comprehensive-r-archive-network">CRAN (The Comprehensive R Archive Network)</h2>
<ul>
<li>CRAN is the central repository for R packages</li>
<li>It has additional requirements beyond the standard package ones, which are described in the Repository Policy</li>
<li>Submitting a package indicates agreement with the policy</li>
<li>In particular: “The time of the volunteers is CRAN’s most precious resource, and they reserve the right to remove or modify packages on CRAN without notice or explanation (although notification will usually be given).”</li>
</ul>
</section>
<section id="cran-contd" class="level2">
<h2 class="anchored" data-anchor-id="cran-contd">CRAN (cont’d)</h2>
<ul>
<li>Only source packages can be submitted <!-- no binary executables are allowed -->
<ul>
<li>But <code>.rda</code> data files are allowed</li>
</ul></li>
<li>Need single designated maintainer (person, not mailing list)
<ul>
<li>Additional <code>Contact</code> field could be used</li>
</ul></li>
<li>Citations in author-year style, followed by <code>&lt;doi:...&gt;</code></li>
<li>Reducing run time of tests, checks, examples, vignettes is important</li>
<li>Need to provide cross-platform portable code: CRAN runs checks on Windows, Mac, several Linux OS</li>
</ul>
</section>
<section id="cran-contd-1" class="level2">
<h2 class="anchored" data-anchor-id="cran-contd-1">CRAN (cont’d)</h2>
<p>❗ A CRAN submission can be punishing, painful, and nerve-racking:</p>
<p>The first release of the <a href="https://cran.r-project.org/package=rpact">rpact</a> package took 5 weeks and 6 submission attempts; painful experiences:</p>
<ul>
<li>Some Linux machines may generate different random numbers than expected (despite setting a seed)</li>
<li>Not only errors and warnings lead to the rejection of a submitted package, but also notes</li>
<li>Your local Windows test system may be much faster than the CRAN system (e.g., 5 times)</li>
<li>Don’t use “R Package for” in your package title</li>
<li>The description of the package must be provided with a doi reference</li>
</ul>
</section>
<section id="cran-contd-2" class="level2">
<h2 class="anchored" data-anchor-id="cran-contd-2">CRAN (cont’d)</h2>
<p>Example message informing about the rejection of the last <a href="https://cran.r-project.org/package=rpact">rpact</a> submission:</p>
<p>Dear maintainer,</p>
<p>package rpact_3.3.2.tar.gz does not pass the incoming checks automatically, please see the following pre-tests:<br>
Windows: <a href="https://cran.r-project.org/web/checks/check_results_rpact.html">00check.log</a> <strong>Status: OK</strong>, Debian: <a href="https://cran.r-project.org/web/checks/check_results_rpact.html">00check.log</a> <strong>Status: OK</strong></p>
<p>Please fix all problems and resubmit a fixed version via the webform.</p>
<p>Best regards,<br>
CRAN teams’ auto-check service</p>
<p>r-devel-windows-x86_64 Check: Result: NA, Maintainer: ‘Friedrich Pahlke’<br>
r-devel-windows-x86_64 Check: Overall checktime, Result: NOTE, Overall checktime 12 min &gt; 10 min<br>
r-devel-linux-x86_64-debian-gcc Check: Result: Note_to_CRAN_maintainers Maintainer: ‘Friedrich Pahlke’</p>
</section>
<section id="r-hub-to-the-rescue" class="level2">
<h2 class="anchored" data-anchor-id="r-hub-to-the-rescue">R-Hub to the Rescue</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><img src="resources/r-hub.png" class="img-fluid"></p>
</div><div class="column" style="width:70%;">
<ul>
<li>Free <code>R CMD check</code> runs on <a href="https://docs.r-hub.io/#which-platform">different operating systems</a> before submitting to CRAN</li>
<li>Supported by the R consortium</li>
<li>Typically used via the <a href="https://builder.r-hub.io/">website</a></li>
<li>There is also an R API: <code>rhub::check_for_cran()</code> is comfortable</li>
</ul>
</div>
</div>
</section>
</section>
<section id="github" class="level1">
<h1>GitHub</h1>
<section id="tags" class="level2">
<h2 class="anchored" data-anchor-id="tags">Tags</h2>
<ul>
<li>Tags are a feature of Git, i.e., not specific to GitHub</li>
<li>Git can tag specific points in the code history as being important</li>
<li>Typically, for each release, create a tag <code>vx.y.z</code></li>
<li>The value here is that users can later check out the package in the state of this release version
<ul>
<li>Download in R: <code>remotes::install_github("org/package", ref = "vx.y.z")</code></li>
<li>Comparison of versions are also possible, etc.</li>
</ul></li>
</ul>
</section>
<section id="tags-example" class="level2">
<h2 class="anchored" data-anchor-id="tags-example">Tags: Example</h2>
<p><img src="resources/tags.png" class="img-fluid"></p>
</section>
<section id="releases" class="level2">
<h2 class="anchored" data-anchor-id="releases">Releases</h2>
<ul>
<li>Based on Git tags, and a feature of GitHub</li>
<li>Are “deployable software packages to make them available for a wider audience to download and use”</li>
<li>Contain release notes and links to the binary package files for download
<ul>
<li>However, for R packages these <code>tar.gz</code> package files are rarely used directly</li>
</ul></li>
</ul>
</section>
<section id="releases-example" class="level2">
<h2 class="anchored" data-anchor-id="releases-example">Releases: Example</h2>
<p><img src="resources/releases.png" class="img-fluid"></p>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<ul>
<li><a href="https://r-pkgs.org/license.html">Licensing chapter</a></li>
<li><a href="https://svn.r-project.org/R/trunk/share/licenses/license.db">All possible licenses for CRAN packages</a></li>
<li><a href="https://docs.github.com/en/repositories/releasing-projects-on-github/about-releases">GitHub releases</a></li>
<li><a href="https://cran.r-project.org/web/packages/policies.html">CRAN Repository Policy</a></li>
<li><a href="https://builder.r-hub.io/">R-hub builder</a></li>
</ul>
</section>
<section id="exercise" class="level1">
<h1>Exercise</h1>
<ul>
<li>Run CRAN like checks in RStudio: use <code>--as-cran</code> in check options</li>
<li>Look at the CI/CD checks reported on your GitHub repository
<ul>
<li>Where are the <code>R CMD check</code> results?</li>
</ul></li>
<li>Deploy the <code>pkgdown</code> website with <code>usethis</code></li>
</ul>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">https://creativecommons.org/licenses/by-sa/4.0/</a></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/kkmann\.github\.io\/workshop-r-swe/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">
        <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://rconsortium.github.io/asa-biop-swe-wg/">About the Software Engineering Working Group</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://github.com/kkmann/workshop-r-swe">Source Code on GitHub</a>
  </li>  
</ul>
      </div>
  </div>
</footer>



</body></html>